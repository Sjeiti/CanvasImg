var TWEEN_MANAGER=TWEEN_MANAGER||(function(){var e,f,d=[];this.add=function(a){d.push(a)};this.remove=function(a){for(var b=0,c=d.length;b<c;b++){if(a==d[b]){d.splice(b,1);return}}};this.update=function(){e=0;f=new Date().getTime();while(e<d.length){d[e].update(f)?e++:d.splice(e,1)}};return this})(),TWEEN=TWEEN||{};TWEEN.Tween=function(x){TWEEN_MANAGER.add(this);var p=x,q={},u={},t={},v=1000,r=0,z=null,o=TWEEN.Easing.Elastic.EaseInOut,y=null,n=null,s=null,w=false;this.to=function(a,c){v=a*1000;for(var b in c){if(p[b]===null){continue}t[b]=c[b]}return this};this.start=function(){w=false;z=new Date().getTime()+r;for(var a in t){if(p[a]===null){continue}q[a]=p[a];u[a]=t[a]-p[a]}return this};this.delay=function(a){r=a*1000;return this};this.easing=function(a){o=a;return this};this.chain=function(a){y=a};this.onUpdate=function(a){n=a;return this};this.onComplete=function(a){s=a;return this};this.update=function(a){var b,d,c;if(a<z||z===null){return true}if(w){return(y===null)}d=(a-z)/v;d=d>1?1:d;c=o(d);for(b in u){p[b]=q[b]+u[b]*c}if(n!==null){n.call(p)}if(d==1){w=true;z=null;if(s!==null){s.call(p)}if(y!==null){y.start();return true}else{return false}}return true};this.destroy=function(){TWEEN_MANAGER.remove(this)}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};TWEEN.Easing.Linear.EaseNone=function(b){return b};TWEEN.Easing.Quadratic.EaseIn=function(b){return b*b};TWEEN.Easing.Quadratic.EaseOut=function(b){return -b*(b-2)};TWEEN.Easing.Quadratic.EaseInOut=function(b){if((b*=2)<1){return 0.5*b*b}return -0.5*(--b*(b-2)-1)};TWEEN.Easing.Cubic.EaseIn=function(b){return b*b*b};TWEEN.Easing.Cubic.EaseOut=function(b){return --b*b*b+1};TWEEN.Easing.Cubic.EaseInOut=function(b){if((b*=2)<1){return 0.5*b*b*b}return 0.5*((b-=2)*b*b+2)};TWEEN.Easing.Quartic.EaseIn=function(b){return b*b*b*b};TWEEN.Easing.Quartic.EaseOut=function(b){return -(--b*b*b*b-1)};TWEEN.Easing.Quartic.EaseInOut=function(b){if((b*=2)<1){return 0.5*b*b*b*b}return -0.5*((b-=2)*b*b*b-2)};TWEEN.Easing.Quintic.EaseIn=function(b){return b*b*b*b*b};TWEEN.Easing.Quintic.EaseOut=function(b){return(b=b-1)*b*b*b*b+1};TWEEN.Easing.Quintic.EaseInOut=function(b){if((b*=2)<1){return 0.5*b*b*b*b*b}return 0.5*((b-=2)*b*b*b*b+2)};TWEEN.Easing.Sinusoidal.EaseIn=function(b){return -Math.cos(b*Math.PI/2)+1};TWEEN.Easing.Sinusoidal.EaseOut=function(b){return Math.sin(b*Math.PI/2)};TWEEN.Easing.Sinusoidal.EaseInOut=function(b){return -0.5*(Math.cos(Math.PI*b)-1)};TWEEN.Easing.Exponential.EaseIn=function(b){return b==0?0:Math.pow(2,10*(b-1))};TWEEN.Easing.Exponential.EaseOut=function(b){return b==1?1:-Math.pow(2,-10*b)+1};TWEEN.Easing.Exponential.EaseInOut=function(b){if(b==0){return 0}if(b==1){return 1}if((b*=2)<1){return 0.5*Math.pow(2,10*(b-1))}return 0.5*(-Math.pow(2,-10*(b-1))+2)};TWEEN.Easing.Circular.EaseIn=function(b){return -(Math.sqrt(1-b*b)-1)};TWEEN.Easing.Circular.EaseOut=function(b){return Math.sqrt(1- --b*b)};TWEEN.Easing.Circular.EaseInOut=function(b){if((b/=0.5)<1){return -0.5*(Math.sqrt(1-b*b)-1)}return 0.5*(Math.sqrt(1-(b-=2)*b)+1)};TWEEN.Easing.Elastic.EaseIn=function(h){var g,a=0.1,f=0.4;if(h==0){return 0}if(h==1){return 1}if(!f){f=0.3}if(!a||a<1){a=1;g=f/4}else{g=f/(2*Math.PI)*Math.asin(1/a)}return -(a*Math.pow(2,10*(h-=1))*Math.sin((h-g)*(2*Math.PI)/f))};TWEEN.Easing.Elastic.EaseOut=function(h){var g,a=0.1,f=0.4;if(h==0){return 0}if(h==1){return 1}if(!f){f=0.3}if(!a||a<1){a=1;g=f/4}else{g=f/(2*Math.PI)*Math.asin(1/a)}return(a*Math.pow(2,-10*h)*Math.sin((h-g)*(2*Math.PI)/f)+1)};TWEEN.Easing.Elastic.EaseInOut=function(h){var g,a=0.1,f=0.4;if(h==0){return 0}if(h==1){return 1}if(!f){f=0.3}if(!a||a<1){a=1;g=f/4}else{g=f/(2*Math.PI)*Math.asin(1/a)}if((h*=2)<1){return -0.5*(a*Math.pow(2,10*(h-=1))*Math.sin((h-g)*(2*Math.PI)/f))}return a*Math.pow(2,-10*(h-=1))*Math.sin((h-g)*(2*Math.PI)/f)*0.5+1};TWEEN.Easing.Back.EaseIn=function(d){var c=1.70158;return d*d*((c+1)*d-c)};TWEEN.Easing.Back.EaseOut=function(d){var c=1.70158;return(d=d-1)*d*((c+1)*d+c)+1};TWEEN.Easing.Back.EaseInOut=function(d){var c=1.70158*1.525;if((d*=2)<1){return 0.5*(d*d*((c+1)*d-c))}return 0.5*((d-=2)*d*((c+1)*d+c)+2)};TWEEN.Easing.Bounce.EaseIn=function(b){return 1-TWEEN.Easing.Bounce.EaseOut(1-b)};TWEEN.Easing.Bounce.EaseOut=function(b){if((b/=1)<(1/2.75)){return 7.5625*b*b}else{if(b<(2/2.75)){return 7.5625*(b-=(1.5/2.75))*b+0.75}else{if(b<(2.5/2.75)){return 7.5625*(b-=(2.25/2.75))*b+0.9375}else{return 7.5625*(b-=(2.625/2.75))*b+0.984375}}}};TWEEN.Easing.Bounce.EaseInOut=function(b){if(b<0.5){return TWEEN.Easing.Bounce.EaseIn(b*2)*0.5}return TWEEN.Easing.Bounce.EaseOut(b*2-1)*0.5+0.5};